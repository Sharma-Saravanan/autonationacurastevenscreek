(()=>{var e,t,n={649:(e,t,n)=>{e.exports={...n(174)}},823:(e,t,n)=>{e.exports={...n(93)}},737:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={storedRequestData:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.error||void 0===t.payload||"SET_STORED_REQUEST_DATA"!==t.type?e:t.payload}}},762:(e,t,n)=>{var r="__lodash_hash_undefined__",a="[object Function]",i="[object GeneratorFunction]",o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,s=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,h="object"==typeof self&&self&&self.Object===Object&&self,m=p||h||Function("return this")();var v,f=Array.prototype,g=Function.prototype,y=Object.prototype,w=m["__core-js_shared__"],b=(v=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",E=g.toString,S=y.hasOwnProperty,I=y.toString,C=RegExp("^"+E.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=m.Symbol,_=f.splice,x=z(m,"Map"),k=z(Object,"create"),N=D?D.prototype:void 0,T=N?N.toString:void 0;function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e,t){for(var n,r,a=e.length;a--;)if((n=e[a][0])===(r=t)||n!=n&&r!=r)return a;return-1}function j(e,t){var n;t=function(e,t){if(U(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||q(e))return!0;return l.test(e)||!o.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:U(n=t)?n:F(n);for(var r=0,a=t.length;null!=e&&r<a;)e=e[H(t[r++])];return r&&r==a?e:void 0}function $(e){if(!V(e)||(t=e,b&&b in t))return!1;var t,n=function(e){var t=V(e)?I.call(e):"";return t==a||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?C:u;return n.test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function L(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function z(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return $(n)?n:void 0}O.prototype.clear=function(){this.__data__=k?k(null):{}},O.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},O.prototype.get=function(e){var t=this.__data__;if(k){var n=t[e];return n===r?void 0:n}return S.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return k?void 0!==t[e]:S.call(t,e)},O.prototype.set=function(e,t){return this.__data__[e]=k&&void 0===t?r:t,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(e){var t=this.__data__,n=R(t,e);return!(n<0)&&(n==t.length-1?t.pop():_.call(t,n,1),!0)},A.prototype.get=function(e){var t=this.__data__,n=R(t,e);return n<0?void 0:t[n][1]},A.prototype.has=function(e){return R(this.__data__,e)>-1},A.prototype.set=function(e,t){var n=this.__data__,r=R(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new O,map:new(x||A),string:new O}},P.prototype.delete=function(e){return L(this,e).delete(e)},P.prototype.get=function(e){return L(this,e).get(e)},P.prototype.has=function(e){return L(this,e).has(e)},P.prototype.set=function(e,t){return L(this,e).set(e,t),this};var F=W((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(q(e))return T?T.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(c,(function(e,t,r,a){n.push(r?a.replace(d,"$1"):t||e)})),n}));function H(e){if("string"==typeof e||q(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function W(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o),o};return n.cache=new(W.Cache||P),n}W.Cache=P;var U=Array.isArray;function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function q(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==I.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:j(e,t);return void 0===r?n:r}},497:e=>{e.exports={isNode:!1,isBrowser:!0,enforceServerSide:()=>{throw new Error("You are attempting to use code in the browser that has been designated server-side only. Such activity is known by the state of California to lead to usage of the dark side of the Force.")}}},93:(e,t,n)=>{e.exports=n(497)},529:function(e,t,n){e.exports=function(e,t){"use strict";function n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var r=function(e){return n(new Set(e)).filter((function(e){return e})).join(" ")||null},a=function(t){var n=t.skeletonClasses,a=t.height,i=t.width,o=t.aspectRatio,l=t.circle,s={height:a,width:i},c=["skeleton-shimmer",n,o||l?"embed-responsive":null];return"4by3"===o&&c.push("embed-responsive-4by3"),"1by1"===o&&c.push("embed-responsive-1by1"),l&&c.push("rounded-circle","embed-responsive-1by1"),e.createElement("span",{"aria-hidden":"true",className:r(c),style:s})};return a.propTypes={skeletonClasses:t.string,height:t.string,width:t.string,aspectRatio:t.string,circle:t.bool},a.defaultProps={skeletonClasses:"",height:"",width:"",aspectRatio:null,circle:!1},a.displayName="Skeleton",a}(n(594),n(935))},174:e=>{"use strict";e.exports=DDC.WsmCommonData},935:e=>{"use strict";e.exports=PropTypes},594:e=>{"use strict";e.exports=React}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e].call(i.exports,i,i.exports,a),i.exports}a.m=n,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>"bundle."+e+".2f21af910429914fb9c61ad7357fa189.js",a.miniCssF=e=>"bundle.b46be076cba37e1e2bf5aa92cf1a97e7.css",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="ws-rec-vehicles:",a.l=(n,r,i,o)=>{if(e[n])e[n].push(r);else{var l,s;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){l=u;break}}l||(s=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.setAttribute("data-webpack",t+i),l.src=n),e[n]=[r];var p=(t,r)=>{l.onerror=l.onload=null,clearTimeout(h);var a=e[n];if(delete e[n],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((e=>e(r))),t)return t(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=p.bind(null,l.onerror),l.onload=p.bind(null,l.onload),s&&document.head.appendChild(l)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/static/ws/rec-vehicles/",(()=>{var e={792:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,a)=>r=e[t]=[n,a]));n.push(r[2]=i);var o=a.p+a.u(t),l=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;l.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",l.name="ChunkLoadError",l.type=i,l.request=o,r[1](l)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,l,s]=n,c=0;if(o.some((t=>0!==e[t]))){for(r in l)a.o(l,r)&&(a.m[r]=l[r]);if(s)s(a)}for(t&&t(n);c<o.length;c++)i=o[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=globalThis.webpackChunkws_rec_vehicles=globalThis.webpackChunkws_rec_vehicles||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";const e=ReactDOM;var t=a(594),n=a.n(t);const r=ReactRedux;var i=a(649);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}class l extends n().Component{constructor(e){super(e),this.renderDelegate=this.renderDelegate.bind(this)}renderDelegate(e){let{labels:t}=e;const{HeadingTag:r,headingText:a,widgetId:i,toggleCollapse:l,showIcon:s,headingClasses:c,iconClasses:d}=this.props,u=[...d];let p={};if(l){const e="ddc-icon-expand";u.push(e),u.push("icon-style-collapse"),p={role:"button","data-toggle":"collapse","data-target":`#${i}-collapse`,"data-expand-icon-class":`${e}`,"data-collapse-icon-class":"ddc-icon-collapse","aria-expanded":"false","aria-controls":`${i}-collapse`}}return n().createElement(r,o({className:c.join(" ")},p),s&&n().createElement(n().Fragment,null,n().createElement("i",{className:u.join(" ")})," "),t.getHTML(a))}render(){return this.props.headingText&&"FALSE"!==this.props.headingText.toUpperCase()?n().createElement(i.Common,{render:this.renderDelegate}):null}}l.defaultProps={HeadingTag:"h3",headingText:""};const s=l,c=e=>{const{id:t,children:r,toggleCollapse:a}=e;return a?n().createElement("div",{id:`${t}-collapse`,className:"collapse collapse-content"},r):r};c.defaultProps={toggleCollapse:!1};const d=c;var u=a(174);function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=function(e){return p(new Set(e)).filter((function(e){return e})).join(" ")||null};const m={isLoading:!1,fadeIn:!1,collapse:!1},v=DDC.Hysterics;var f=a(823);const g=(e,t)=>{if("string"!=typeof e||0===e.length)throw new Error(`${t} must be a non-zero length string. Got: ${e}.`)},y=(e,t,n)=>{g(e,"Widget name"),g(t,"Widget id");const r="undefined"!=typeof window;if(r){const{DDC:r={}}=window,a={action:"clicked",element:void 0,elementCTA:void 0,event:"widgetUserEvent",fieldValue:void 0,formEventId:void 0,formId:void 0,nonInteractive:!1,result:void 0,sourceData:void 0,value:void 0,widgetId:t,widgetName:e,widgetState:"default"};return r.fireTrackingEvent&&r.fireTrackingEvent({...a,...n}),!!r.fireTrackingEvent}return r};a(762);const w=e=>e.reduce(((e,t)=>{let{count:n=0}=t;return e+n}),0),b=(e,t)=>{var n;return(null==e||null===(n=e.vehicles)||void 0===n?void 0:n.length)>0&&!t.fadeIn&&!t.isLoading&&!t.collapse},E=(e,t)=>n=>{const[r]=n;var a;r.intersectionRatio>.5&&(e(),t&&null!=t&&null!==(a=t.current)&&void 0!==a&&a.disconnect&&t.current.disconnect())},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes('data-toggle="popover"')?e.replace(/(data-toggle="popover")/,'$1 data-container="body" '):e},I=(e,t)=>0===t&&((e=>{var t,n,r,a;"DESKTOP"===e&&window&&window.DDC&&window.DDC.modules&&window.DDC.modules.popover&&void 0!==(null===(t=window.DDC)||void 0===t||null===(n=t.modules)||void 0===n?void 0:n.popover)&&$(document).trigger("modulesRefresh",{modules:{popover:window.DDC.modules.popover}}),"MOBILE"===e&&window&&window.DDC&&window.DDC.mobile&&window.DDC.mobile.slidein&&void 0!==(null===(r=window.DDC)||void 0===r||null===(a=r.mobile)||void 0===a?void 0:a.slidein)&&window.DDC.mobile.slidein.init()})(e),!0),C="REC_VEHICLES",D=`${C}/CLIENT/VEHICLES_ENDPOINT_FETCH_ERROR`,_=`${C}/CLIENT/VEHICLES_ENDPOINT_FETCH_SUCCESS`,x=(0,v.hysteriFetch)("vehicleData",{timeout:{timeout:2e3}}),k=(e,t)=>{window&&window.newrelic&&"object"==typeof window.newrelic&&window.newrelic.addPageAction(e,t)},N=e=>e.map((e=>{var t,n,r,a;return{bodyStyle:e.bodyStyle,year:e.year,make:e.make,model:e.model,stockNumber:e.stockNumber,vin:e.vin,odometer:e.odometer,cityFuelEconomy:null===(t=e.fuelEconomy)||void 0===t||null===(n=t.value)||void 0===n?void 0:n.split("/")[0],highwayFuelEconomy:null===(r=e.fuelEconomy)||void 0===r||null===(a=r.value)||void 0===a?void 0:a.split("/")[1]}})),T=(e,t)=>{var n;return{vehicles:null===(n=N(e))||void 0===n?void 0:n.slice(0,t)}},O=e=>{var t;const n=null==e?void 0:e.querySelectorAll(".vehicle-list > li"),r=Array.from(n);return null==r||null===(t=r.filter((e=>(null==e?void 0:e.offsetWidth)&&(null==e?void 0:e.offsetHeight))))||void 0===t?void 0:t.length},A=(e,n)=>{let{accountId:r,containerRef:a,siteId:i,displayerInstanceId:o,excludeBasedOnImages:l,listingConfigId:s,requiredDisplayAttributes:c,hideIfUnpersonalized:d,vdpData:p,pageAlias:h,pageId:m,uri:v,host:g,scheme:S,storedEOData:I,vehicleId:C}=e,{vehicleState:N,startFadeIn:A,startFadeout:P,startCollapse:R}=n;const[j,$]=(0,t.useState)({vehicleData:[],personalized:!1,trackEventElement:""}),{deviceType:L,locale:z,windowId:F,widgetName:H}=(0,u.useRequestData)(),{displayStyle:W,geoRange:U}=(0,u.usePrefs)(),V="Standard Horizontal"!==W,q=(0,u.useFlags)(),B=(0,t.useRef)(null),{chromeStyleId:M,type:K}=(e=>{let t={count:0};const n=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return r&&r.views?[...e,...r.views]:e}),[]);return n.length>0&&(t=n.reduce(((e,t)=>e.count<t.count?t:e),{count:0})),t})(I),{make:J,model:G}=(e=>Object.entries(e).map((e=>{let[t,{make:n,views:r}]=e;return{model:t,make:n,count:w(null!=r?r:[])}})).reduce(((e,t)=>e.count<t.count?t:e),{count:0}))(I),Q=q["ws-vdplink-endpoint-enabled"],Y=q["wsm-account-data-distributor-timeout"],Z=q["ws-rec-vehicles-cvre-num-results"];async function X(){var e,t,n,a,u;const f=`/api/widget/ws-rec-vehicles/vehicles-recommendations/${r}`,y=window.Cookies&&window.Cookies.get("abc")?window.Cookies.get("abc"):window.Cookies&&window.Cookies.get("pxa_id")?window.Cookies.get("pxa_id"):null,w=JSON.parse(window.sessionStorage.getItem("session.location")),b=window.localStorage.getItem("userLocation")||w.userPostalCode,E=window&&window.DDC&&window.DDC.WidgetData&&window.DDC.WidgetData["ws-amp-offer"]&&window.DDC.WidgetData["ws-amp-offer"].offerChromeStyleId||null,I=window&&window.DDC&&window.DDC.WidgetData&&window.DDC.WidgetData["ws-amp-offer"]&&window.DDC.WidgetData["ws-amp-offer"].offerVehicleType||null,C={siteId:i,locale:z,device:L.toLowerCase(),pageAlias:h,pageId:m,windowId:F,referrer:document.referrer,host:g,uri:v,scheme:S},N={pixallId:y,offerSeedVehicleChromeStyleId:E,seedVehicleType:I,siteId:i,displayLimit:"Navigation"===W?8:6,enableVDPLink:Q,addTimeout:Y,displayerInstanceId:o,eoChromeId:M,eoModel:G,eoMake:J,eoType:K,locale:z,excludeBasedOnImages:l,listingConfigId:s,requiredDisplayAttributes:c,numResultsCVRE:Z,hideIfUnpersonalized:d,inventoryRequestBody:C,geoRange:U,geoZip:b};p&&(N.vdpData={chromeStyleId:null==p?void 0:p.chromeStyleId,type:null==p?void 0:p.type,vin:null==p?void 0:p.vin});const T=JSON.stringify(N),O=Date.now();let j;try{d||A(),j=await x(f,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:T})}catch(e){R();const{message:t}=e;throw k(`${D}`,{requestUrl:f,error:t}),new Error(`${D}: ${e.message}`)}const H=Date.now()-O;return k(`${_}`,{requestUrl:f,responseStatus:200,requestDuration:H,totalVehicles:null!==(e=null===(t=j)||void 0===t||null===(n=t.vehicles)||void 0===n?void 0:n.length)&&void 0!==e?e:0}),(null===(a=j)||void 0===a||null===(u=a.vehicles)||void 0===u?void 0:u.length)>0?P((()=>{$({vehicleData:j.vehicles,personalized:j.personalized,trackEventElement:j.trackEventElement})})):R(),j}return(0,t.useEffect)((()=>{if(C&&!p&&!V)return null;if(f.isBrowser&&a)if("undefined"!=typeof IntersectionObserver){const e={threshold:.5};B.current&&B.current.disconnect();const t=a.current;d?X().then((n=>{B.current=new IntersectionObserver(E((()=>{if(b(n,N)){const e=O(t),r={pageAlias:h,element:n.trackEventElement,action:"viewed",result:"Recommended vehicles impression",nonInteractive:!0,dataToExcludeFromWidgetUserEvent:T(n.vehicles,e,n.personalized)};y(H,F,r)}}),B),e),B.current.observe(t)})):(B.current=new IntersectionObserver(E((async()=>{const e=await X();if(b(e,N)){const n=O(t),r={pageAlias:h,element:e.trackEventElement,action:"viewed",result:"Recommended vehicles impression",nonInteractive:!0,dataToExcludeFromWidgetUserEvent:T(e.vehicles,n)};y(H,F,r)}}),B),e),B.current.observe(t))}else X().then((e=>{if(b(e,N)){const t=O(a.current),n={pageAlias:h,element:e.trackEventElement,action:"viewed",result:"Recommended vehicles impression",nonInteractive:!0,dataToExcludeFromWidgetUserEvent:T(e.vehicles,t)};y(H,F,n)}}));return()=>{var e;return null==B||null===(e=B.current)||void 0===e?void 0:e.disconnect()}}),[I]),[j]},P="REC_VEHICLES",R=`${P}/CLIENT/VEHICLES_ENDPOINT_FETCH_ERROR`,j=`${P}/CLIENT/VEHICLES_ENDPOINT_FETCH_SUCCESS`,L=(0,v.hysteriFetch)("vdpData",{timeout:{[v.wrappers.timeout.contextKey]:1e3}}),z=(e,t)=>{window&&window.newrelic&&"object"==typeof window.newrelic&&window.newrelic.addPageAction(e,t)},F=e=>{let{vehicleId:n,siteId:r,locale:a,deviceType:i,accountId:o}=e;const l={siteId:r,locale:a,deviceType:i,accountId:o},s=JSON.stringify(l),[c,d]=(0,t.useState)(),[u,p]=((e,n)=>{const[r,a]=(0,t.useState)((()=>{try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):n}catch(e){return n}}));return[r,(t,n)=>{try{if(t&&n){const i={...r,[t]:n};a(i),window.localStorage.setItem(e,JSON.stringify(i))}}catch(e){}}]})("ws-rec-vehicles-eo",{});return(0,t.useEffect)((()=>{(async()=>{if(n){const e=`/api/widget/ws-rec-vehicles/vehicles/${n}`;let t;const r=Date.now();try{t=await L(e,{method:"POST",headers:{"content-type":"application/json;charset=UTF-8"},body:s}),Object.prototype.hasOwnProperty.call(t,"chromeStyleId")&&Object.prototype.hasOwnProperty.call(t,"vin")&&Object.prototype.hasOwnProperty.call(t,"type")?d(t):d(void 0)}catch(t){throw z(`${R}`,{requestUrl:e,err:t}),new Error(`${R}: ${t.message}`)}const a=Date.now()-r;z(`${j}`,{requestUrl:e,responseStatus:200,requestDuration:a}),t&&p(t.model,((e,t)=>{var n;let{model:r,make:a,chromeStyleId:i,type:o}=e;const l=t[r];let s=null!==(n=null==l?void 0:l.views)&&void 0!==n?n:[];const c=s.find((e=>{let{chromeStyleId:t}=e;return t===i}));if(l&&0!==s.length){var d;s=s.filter((e=>{let{chromeStyleId:t}=e;return t!==i}));const e=null!==(d=null==c?void 0:c.count)&&void 0!==d?d:0;return{make:a,views:[...s,{chromeStyleId:i,count:1+e,type:o}]}}return{make:a,views:[{chromeStyleId:i,count:1,type:o}]}})(t,u))}})()}),[]),[c,u]};var H=a(529),W=a.n(H);const U=e=>{let{vehicleState:{fadeIn:t},displayStyle:r}=e;const a=["vehicle","clearfix","pointer","p-0",t?"fade-in":"fade-out"],i="Navigation"===r;return n().createElement("div",{className:h(a)},n().createElement("div",{className:"vehicle-card-media-container m-0 w-100 h-100 absolute-top","data-testid":"shimmer-wrapper"},n().createElement(W(),{skeletonClasses:"h-100",width:"100%"})),n().createElement("div",{className:"vehicle-card-details-container ddc-section-height-default p-2 absolute-bottom h-50 w-100 bg-neutral-0"},n().createElement("div",{className:"vehicle-card-info-container position-relative h-100 d-flex flex-column justify-content-center"},i?n().createElement("div",{className:"vehicle-card-title-container",style:{height:"2rem"},"data-testid":"shimmer-wrapper"},n().createElement(W(),{skeletonClasses:"m-auto",height:"80%",width:"80%"})):n().createElement("h3",{className:"vehicle-card-title-container",style:{height:"2rem"},"data-testid":"shimmer-wrapper"},n().createElement(W(),{skeletonClasses:"m-auto",height:"100%",width:"80%"})),n().createElement("ul",{className:"vehicle-card-price-list list-unstyled h-100"},n().createElement("li",{className:"vehicle-card-price-container",style:{height:"1.2rem"},"data-testid":"shimmer-wrapper"},n().createElement(W(),{skeletonClasses:"m-auto",height:i?"80%":"100%",width:"40%"})),n().createElement("li",{className:"vehicle-card-price-container "+(i?"mt-1":"mt-3"),style:{height:"1.8rem"},"data-testid":"shimmer-wrapper"},n().createElement(W(),{skeletonClasses:"m-auto",height:i?"50%":"100%",width:"50%"}))))))};const V=e=>{let{isNavFragment:t,href:r,tabIndex:a,title:i,subtitle:o}=e;const l=(0,u.useLabels)(),{showVehicleDetailsButton:s,vehicleDetailsButtonLabel:c,detailsButtonStyle:d}=(0,u.usePrefs)(),p=l.get(c);return"true"===s&&!t?n().createElement("a",{className:`btn btn-${d} btn-xs mt-auto `,href:r,tabIndex:a},p,n().createElement("span",{className:"sr-only"},i,o)):null};function q(e){let{info:{vin:r,link:a,totalPrice:i,imagePath:o,label:l,titleAttributes:s=[]},trackEventElement:c,index:d,activeSlide:p=d,trackingData:m={},pageAlias:v}=e;const{showPriceLabel:f,showVin:g,priceLabelClasses:w,pricingValueClasses:b,pricingClasses:E,vehicleTitleHeadingClasses:C,vehicleTitleSubHeadingClasses:D,displayStyle:_}=(0,u.usePrefs)(),{locale:x,deviceType:k,windowId:N,widgetName:T}=(0,u.useRequestData)();(0,t.useEffect)((()=>{I(k,d)}),[]);const O="true"===f,A="true"===g,P="DESKTOP"===k,R="Standard Horizontal"!==_,j=R?"h5":"h3",$=o&&new URL(o).hostname,L=["media","d-flex justify-content-center align-items-center","w-100",P?"vehicle-media-container":"vehicle-media-container-mobile",o&&"pictures.dealer.com"===$?"bg-neutral-400":"bg-white"],z=[C,R?"mt-3":"mt-4","mb-0","text-body","h5"],F=[D,"mb-2",R?"py-0 px-0":"pb-1","text-body","mt-0",P?"h3":"h2"],H=[E,"d-flex justify-content-center flex-column","mb-0","text-body","ddc-font-size-large"],W=[w,P?"ddc-font-size-xsmall":"ddc-font-size-small","vehicle-price-label","text-muted"],U=[b,P?R?"ddc-font-size-base":"ddc-font-size-large":"ddc-font-size-xxlarge","value","mb-2",R?"":"pb-1"],q=["vehicle-vin-label","mb-2",R?"":"pb-1","text-muted",P&&!R?"ddc-font-size-xxsmall":"ddc-font-size-xsmall"],B=["border-top","vehicle-card-details-container","ddc-section-height-default","bg-contrast-low","px-4","w-100","vehicle-card-info","text-center",P?"":"landscape-details pb-3",R?"pb-2":""],M=["h-100","pointer","d-flex","flex-column","text-decoration-none","text-body",R?"":"pb-3"],K=P&&o&&"Standard Horizontal"===_?`${o}?impolicy=downsize_bkpt&w=410`:`${o}?impolicy=downsize_bkpt&w=325`;let J,G="",Q="";return 0!==s.length&&(J=s.map((e=>{let{name:t}=e;return t})).indexOf("lineBreak"),J=-1===J?s.length:J,G=s.slice(0,J).reduce(((e,t)=>{let{itemValue:n}=t;return n?`${e} ${n}`:e}),"").trim(),J!==s.length&&(Q=s.slice(J).reduce(((e,t)=>{let{itemValue:n}=t;return n?`${e} ${n}`:e}),"").trim())),n().createElement("div",{className:h(M),onClick:()=>(e=>{let{subtitle:t,title:n=""}=e;const r={pageAlias:v,element:c,result:"Navigated to VDP",dataToExcludeFromWidgetUserEvent:{link:a,subtitle:t,title:n,...m}};y(T,N,r),window.location.href=a})({subtitle:Q,title:G}),"data-testid":"card"},n().createElement("div",{className:h(L),"data-testid":"photo"},o&&n().createElement("img",{className:"photo thumb",src:K,"data-src":K,alt:`${G} ${Q}`})),n().createElement("div",{className:h(B)},n().createElement(j,{className:"vehicle-card-titles m-0"},n().createElement("a",{className:"d-flex flex-column text-body",href:a,"data-vdp-href":"#","data-click-url":"","data-vehicle-tracer":"","data-testid":"card-link",tabIndex:p===d?"0":"-1"},n().createElement("span",{className:h(z),"data-testid":"card-heading"},G),n().createElement("span",{className:h(F),style:{wordWrap:"break-word"},"data-testid":"card-subheading"},Q))),i?n().createElement("div",{className:h(H)},O&&n().createElement("span",{className:`${h(W)}`,dangerouslySetInnerHTML:{__html:P?S(l):l},onClick:e=>e.preventDefault(),"data-testid":"totalPriceLabel"}),n().createElement("span",{className:h(U),"data-testid":"totalPrice"},i&&`${function(e,t="en_US",n=!1){if("undefined"==typeof Intl||!Intl.NumberFormat)return e.toString();const r={style:"currency",currency:t.length&&t.indexOf("CA")>-1?"CAD":"USD"};let a;return"number"!=typeof e?(console.warn("formatCurrency: unexpected currency value: ".concat(e," of type ").concat(typeof e)),""):(n?a=e:(a=Math.round(e),r.minimumFractionDigits=0),new Intl.NumberFormat(t.replace("_","-"),r).format(a))}(i,x)}`)):null,r&&A?n().createElement("div",{className:h(q),"data-testid":"vin"},`VIN: ${r}`):null,n().createElement(V,{isNavFragment:R,href:a,tabIndex:p===d?"0":"-1",title:G,subtitle:Q})))}const B=e=>{let{vehicleState:t,vehicleData:r,displayPref:a,trackEventElement:i,pageAlias:o}=e;const{listItemClasses:l,listClasses:s,displayStyle:c}=(0,u.usePrefs)(),{isLoading:d}=t,{showPriceLabel:p,showVin:m}=a,v="Standard Horizontal"===c,f=v?4:3,g=f*(v?1:2),y=r.length<3,w=["BLANK"!==l?l:"","vehicle-card","overflow-hidden","position-relative","my-1","mb-4","bg-contrast-low"];let b;const E=v?{}:{flex:`0 0 ${Math.floor(100/f)-2}%`};b=d?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;const t=[];for(let n=0;n<e;n++)t.push({id:n});return t}(g).map((e=>{const{id:r}=e;let a;a=m&&p?"vehicle-card-skeleton-label-vin-pref":m?"vehicle-card-skeleton-vin-pref":p?"vehicle-card-skeleton-label-pref":"vehicle-card-skeleton-non-pref";const i=[v?a:"vehicle-card-skeleton","mt-1 mb-3",...w];return n().createElement("li",{className:h(i),style:E,key:`loader_${r}`,"data-testid":"card-li-loader"},n().createElement(U,{vehicleState:t,displayStyle:c}))})):r.map(((e,t)=>{var r;const{bodyStyle:a,fuelEconomy:l,make:s,model:c,odometer:d,stockNumber:u,uuid:p,vin:m,year:v}=e,[f,g]=(null==l||null===(r=l.value)||void 0===r?void 0:r.split("/"))||[],y={bodyStyle:a,cityFuelEconomy:f,highwayFuelEconomy:g,make:s,model:c,odometer:d,stockNumber:u,uuid:p,vin:m,year:v};return n().createElement("li",{className:h(w),key:p,style:E,"data-testid":"card-li"},n().createElement(q,{info:e,index:t,trackEventElement:i,trackingData:y,pageAlias:o}))}));const S=["BLANK"!==s?s:"",v?"static-width overflow-hidden":"hide-from-7",y?"justify-content-left":"justify-content-between","list-unstyled","vehicle-list","d-flex","flex-wrap","mb-0"],I={gap:"2%"};return n().createElement("ul",{className:h(S),style:I,"data-testid":"static-width-carousel"},b)},M=e=>{let{state:t,personalized:r,noVehicles:a,hideIfUnpersonalized:i}=e;const{deviceType:o}=(0,u.useRequestData)(),l=(0,u.useLabels)(),{personalizedVehiclesHeading:s,nonPersonalizedVehiclesHeading:c,displayStyle:d,headingAlignment:p,headingSize:m}=(0,u.usePrefs)();let v="";const f="DESKTOP"===o,g="Standard Horizontal"!==d,{isLoading:y,fadeIn:w}=t;v=r?l.get(s):l.get(c);const b=[f?g?"mb-4":"mb-6":""],E=["p-0","widget-heading","mb-0",m,`text-${p}`,f?"":"mx-5"],S=[m,w?"fade-in":"fade-out",f?"mb-5":"mx-7",f?"mt-4":""],I=i&&a?{}:{marginBottom:f?"0px":"20px"};return n().createElement("div",{className:h(i&&a?"":b),style:I},a?(()=>{if(y){let e=f?1.25:2.5;const t=g?"97%":"100%";return g&&(e=.5),n().createElement("div",{className:h(S),"data-testid":"vehicle-list-title-skeleton"},n().createElement(W(),{width:t,height:`${e}em`}))}return""})():(()=>{if("Navigation"===d){const e=[`text-${p}`,"px-0"];return n().createElement("h4",{className:h(e),"data-testid":"widget-heading"},n().createElement("span",null,v))}return n().createElement("h2",{className:h(E),"data-testid":"widget-heading"},n().createElement("span",null,v))})())},K="undefined"!=typeof window,J=e=>{let{children:n,placeholder:r=null,maxWait:a=5e3}=e;const[i,o]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{"complete"===document.readyState?o(!0):(async e=>Promise.race([new Promise((e=>{window.addEventListener("load",(()=>{e("pageLoad")}))})),new Promise((t=>{setTimeout((()=>{t("maxWait")}),e)}))]))(a).then((e=>{o(!0)}))}),[a]),K&&i?React.createElement(t.Suspense,{fallback:r},n):r};J.displayName="DeferredComponent";const G=J,Q=e=>{let{slideCount:t,slidesToScroll:n,slidesToShow:r,cellAlign:a,scrollMode:i,defaultControlsConfig:o,currentSlide:l,goToSlide:s}=e;const c=((e,t,n,r,a)=>{const i=[];let o=e-n;switch(r){case"center":case"right":o+=n-1}if(o<0)return[0];for(let e=0;e<o;e+=t)i.push(e);return"left"===r&&"page"===a&&(o=Math.floor(e-(e%n||n))),i.push(o),i})(t,n,r,a,i),{pagingDotsContainerClassName:d,pagingDotsClassName:u,pagingDotsStyle:p={}}=o;return React.createElement("ul",{className:d,style:{position:"relative",top:-10,display:"flex",margin:0,padding:0,listStyleType:"none"}},c.map((e=>{const t=l===e;return React.createElement("li",{key:e,className:t?"paging-item active":"paging-item","data-testid":"paging-dot"},React.createElement("button",{className:u,type:"button",style:{...(n=t,{cursor:"pointer",opacity:n?1:.5,background:"transparent",border:"none",fill:"black"}),...p},onClick:s.bind(null,e),"aria-label":`View Slide ${e+1}`},React.createElement("svg",{className:"paging-dot",width:"6",height:"6"},React.createElement("circle",{cx:"3",cy:"3",r:"3"}))));var n})))},Y=n().lazy((()=>a.e(830).then(a.bind(a,830))));function Z(e){let{vehicleData:r,vehicleState:a,trackEventElement:i,pageAlias:o}=e;const[l,s]=(0,t.useState)(0),c=(0,t.useRef)(null),d=(0,t.useRef)(null),{listClassesPref:p,listItemClasses:m,displayStyle:v}=(0,u.usePrefs)(),{isLoading:f}=a,g=1===r.length,y={animation:"zoom",cellAlign:"center",cellSpacing:20,className:"pb-8",defaultControlsConfig:{pagingDotsClassName:"px-1"},heightMode:"current",initialSlideHeight:315,renderCenterLeftControls:null,renderCenterRightControls:null,renderBottomCenterControls:g?null:Q,slideOffset:g?0:50,ref:d,zoomScale:.9,enableKeyboardControls:!0,afterSlide:e=>{s(e)}};(0,t.useEffect)((()=>{const e=c.current;if(e&&"undefined"!=typeof ResizeObserver){const t=new ResizeObserver((()=>{d.current.setDimensions()}));return t.observe(e),()=>t.unobserve(e)}return()=>{}}),[c]);const w=["BLANK"!==m?m:"","vehicle-card","overflow-hidden","position-relative"];if(f){const e=["flex-grow-1 mx-7",...w],t=["BLANK"!==p?p:"","list-unstyled","vehicle-list","d-flex","flex-wrap","overflow-hidden","pb-8","mb-0"];return n().createElement("ul",{className:h(t),style:{minHeight:"316px"}},n().createElement("li",{className:h(e),key:"loader_0","data-testid":"card-li-loader"},n().createElement(U,{vehicleState:a,displayStyle:v})))}return n().createElement(G,null,n().createElement(Y,y,r.map(((e,t)=>{const{uuid:r}=e,a=["mx-4",...w];return n().createElement("div",{className:h(a),style:{minHeight:"316px"},key:r,ref:0===t?c:null},n().createElement(q,{info:e,key:`vehicle_${r}`,index:t,trackEventElement:i,activeSlide:l,pageAlias:o}))}))))}const X=(0,r.connect)((e=>{const{accountId:t,siteId:n,vehicleId:r,pageAlias:a,pageId:i,uri:o,host:l,scheme:s}=e.storedRequestData;return{accountId:t,siteId:n,vehicleId:r,pageAlias:a,pageId:i,uri:o,host:l,scheme:s}}),(e=>({})))((function(e){let{accountId:r,siteId:a,vehicleId:i,pageAlias:o,pageId:l,uri:s,host:c,scheme:d}=e;const{displayerInstanceId:p,excludeBasedOnImages:v,"listing.config.id":f,showPriceLabel:g,showVin:y,hideIfUnpersonalized:w,containerClasses:b,"required.display.attributes":E}=(0,u.usePrefs)(),S="true"===w,{deviceType:I,locale:C}=(0,u.useRequestData)(),D="DESKTOP"===I,[_,x,k,N]=(()=>{const[e,n]=(0,t.useState)(m);return[e,()=>{n((e=>({...e,isLoading:!0,fadeIn:!0})))},e=>{n((e=>({...e,fadeIn:!1}))),setTimeout((()=>{e(),n((e=>({...e,isLoading:!1})))}),300)},()=>{setTimeout((()=>{n((e=>({...e,fadeIn:!1,collapse:!0,isLoading:!1})))}),1e3)}]})(),[T,O]=F({vehicleId:i,siteId:a,locale:C,deviceType:I,accountId:r}),P=(0,t.useRef)(null),{isLoading:R,collapse:j}=_,$={accountId:r,containerRef:P,siteId:a,displayerInstanceId:p,excludeBasedOnImages:v,listingConfigId:f,requiredDisplayAttributes:E,hideIfUnpersonalized:S,vdpData:T||void 0,pageAlias:o,pageId:l,uri:s,host:c,scheme:d,storedEOData:O,vehicleId:T?i:void 0},L={vehicleState:_,startFadeIn:x,startFadeout:k,startCollapse:N},[{vehicleData:z,personalized:H,trackEventElement:W}]=A($,L),U=["rec-vehicles-container","text-center","section","m-0",R?"loading bg-none h-auto":"",b],V="true"===g,q="true"===y,K={showPriceLabel:V,showVin:q};let J=D?477:440;V&&(J+=D?17:10),q&&(J+=D?22:15);const G=`${S?0:J}px`;return j?n().createElement("div",null):n().createElement("div",{className:h(U),ref:P,style:{minHeight:G},"data-display-sets":"TITLE","hide-base-facet-category":"true"},n().createElement(M,{state:_,personalized:H,noVehicles:0===z.length,hideIfUnpersonalized:S}),D?n().createElement(B,{pageAlias:o,vehicleState:_,vehicleData:z,displayPref:K,trackEventElement:W}):n().createElement(Z,{pageAlias:o,vehicleState:_,vehicleData:z,trackEventElement:W}))})),ee=(e,t,n)=>{const r=["ddc-content",t];return e&&r.push(e),n&&r.push("collapse-container"),r},te=(e,t,n)=>{const r=[],{widgetHeading:a,headingIconClasses:i,headingIconSize:o,headingIconStyle:l}=e;return a&&t&&(r.push("ddc-icon"),n||r.push(`ddc-icon-${l}`),o&&r.push(`ddc-icon-size-${o}`),i&&r.push(i)),r},ne=(e,t,n)=>{const r=[],{headingSize:a,headingStyles:i,headingClasses:o}=e;return r.push("widget-heading"),"MOBILE"===t&&r.push("ddc-heading"),o&&r.push(o),a&&r.push(a),i&&r.push(`ddc-heading-${i}`),n&&r.push("collapse-heading"),r},re=e=>{let{outputWrapperDiv:t,store:a,widgetId:i,widgetName:o}=e;const l=a.getState(),c=l.prefs||{},u=c.widgetHeading&&"true"===c.toggleCollapse||!1,p=!!c.headingIconStyle||u;const h=n().createElement(r.Provider,{store:a},n().createElement(s,{HeadingTag:c.headingTag,headingText:c.widgetHeading,widgetId:i,toggleCollapse:u,showIcon:p,headingClasses:ne(c,l.requestData.deviceType,u),iconClasses:te(c,p,u)}),n().createElement(d,{id:i,toggleCollapse:u},n().createElement(X,null)));if(t){if(!o)throw new Error("widgetName is required if outputWrapperDiv is true.");return n().createElement("div",{id:`${i}-app-root`,className:ee(c.widgetClasses,o,u).join(" "),"data-widget-name":o,"data-widget-id":i},h)}return h},ae=RTK;const ie=[],oe={requestData:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return!t.error&&t.payload&&"WS_SCRIPTS_SET_REQUEST_DATA"===t.type?t.payload:e},prefs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.error||void 0===t.payload||"WS_SCRIPTS_SET_PREFS"!==t.type?e:t.payload},labels:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.error||void 0===t.payload||"WS_SCRIPTS_ADD_LABELS"!==t.type?e:{...e,...t.payload}},sitemap:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.error||void 0===t.payload||"WS_SCRIPTS_ADD_SITEMAP"!==t.type?e:{...e,...t.payload}},flags:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.error||void 0===t.payload||"WS_SCRIPTS_SET_FEATURE_FLAGS"!==t.type?e:t.payload}};function le(e){const[t,n]=(()=>{let e={},t={};const n=[];try{e=a(737).A,n.push("../reducers")}catch(e){}try{t=Object(function(){var e=new Error("Cannot find module '../features'");throw e.code="MODULE_NOT_FOUND",e}()),n.push("../features")}catch(e){}return[{...e,...t},n]})();return(0,ae.configureStore)({reducer:{...t,...oe},middleware:e=>e().concat(ie),preloadedState:e})}const se={};(()=>{const t=(n="ws-rec-vehicles",window.DDC&&window.DDC.WS&&window.DDC.WS.state&&window.DDC.WS.state[n]?window.DDC.WS.state[n]:{});var n;Object.keys(t).forEach((n=>{const r=le(((e,t)=>{let n=e[t];return"string"==typeof n&&(n=JSON.parse(n)),n})(t,n));se[n]=r,(0,e.hydrate)(React.createElement(re,{outputWrapperDiv:!1,store:r,widgetId:n}),document.getElementById(`${n}-app-root`)),delete t[n]}))})()})()})();
//# sourceMappingURL=bundle.20c75a7644a969e98eff4d380ff44f20.js.map